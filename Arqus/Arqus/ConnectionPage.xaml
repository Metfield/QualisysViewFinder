<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:local="clr-namespace:Arqus"
             x:Class="Arqus.ConnectionPage">
  
  <ContentPage.BindingContext>
    <local:ConnectionViewModel />
  </ContentPage.BindingContext>

  <StackLayout VerticalOptions="Center">
    <Label Text="Please specify an IP address to connect to"
            HorizontalTextAlignment="Center"
            VerticalTextAlignment="Start" />

    <Entry x:Name="ipEntryField"
           Placeholder="IPv4"
           HorizontalTextAlignment="Center"
           Keyboard="Telephone" />

    <Button Text="Connect"
            HorizontalOptions="Center"
            Clicked="OnConnectionButtonClicked" />

    <StackLayout BindingContext="{Binding Source={x:Reference qtmListView}, Path=SelectedItem}">
      <Label
        Text="{Binding HostName}"
      />
    </StackLayout>

    <local:QTMServerList x:Name="qtmListView"
                         IsVisible="{Binding IsDoneLoading}"/>

    <ActivityIndicator IsRunning="{Binding IsLoading}"
                       IsVisible="{Binding IsLoading}"
                       VerticalOptions="CenterAndExpand"
                       HorizontalOptions="CenterAndExpand" />

  </StackLayout>

</ContentPage>